"use strict";window.app=window.app||{};window.app.showChangePassword=function(){$.ajax({url:"Settings/GetChangePasswordForm",cache:false,success:function(a){$("#rightColumn").html(a);$("#btnChangePassword").live("click",function(b){b.preventDefault();$.ajax({url:"Settings/GetChangePasswordForm",data:$("#rightColumn form").serialize(),type:"post",cache:true,dataType:"html",success:function(c){$("#rightColumn").html(c)},error:function(c,e,d){$("#rightColumn").html(c)}})})}})};window.app.getDataForWorkingPoints=function(){var a=new Array();$("#rightColumn table").find('tr[name="dataRow"]').each(function(){var b={TelNumber:$('span[name="TelNumber"]',this).text(),Name:$('input[name="Name"]',this).val(),Description:$('input[name="Description"]',this).val(),NrOfSentSmsThisMonth:15,MaxNrOfSmsToSendPerMonth:$('span[name="MaxNrOfSmsToSendPerMonth"]',this).text()};a.push(b)});return a};window.app.localForSetting={};window.app.localForSetting.setTooltipsOnHeaders=function(){$("th").each(function(){$(this).qtip({content:$(this).attr("tooltiptitle"),position:{corner:{target:"topLeft",tooltip:"bottomLeft"}},style:"dark"})})};window.app.saveWorkingPoints=function(b){b.preventDefault();var a=app.getDataForWorkingPoints();$.ajax({url:"Settings/GetDefineWorkingPointsForm",data:$.toJSON(a),type:"post",cache:false,dataType:"html",contentType:"application/json; charset=utf-8",success:function(c){$("#rightColumn").html(c);app.localForSetting.setTooltipsOnHeaders()},error:function(c,e,d){$("#rightColumn").html(c)}})};window.app.configureWorkingPoints=function(){$.ajax({url:"Settings/GetDefineWorkingPointsForm",cache:false,success:function(a){$("#rightColumn").html(a);$("#btnSaveWorkingPoints").live("click",app.saveWorkingPoints);app.localForSetting.setTooltipsOnHeaders()},error:function(a,c,b){$("#rightColumn").html(a)}})};window.app.SettingsArea=function(){var a=this;var b=new window.app.MenuView({el:$("#leftColumn"),eventToTriggerOnSelect:"switchSetting",menuCollection:new window.app.MenuCollection({url:"/Settings/GetMenuItems"}),afterInitializeFunction:function(){$(".liItem21").addClass("menuItemSelected");$("ul.item20").css("display","block");window.app.showChangePassword()}});$(document).bind("switchSetting",function(c,d){switch(d){case"21":window.app.showChangePassword();break;case"31":window.app.configureWorkingPoints();break;default:}})};